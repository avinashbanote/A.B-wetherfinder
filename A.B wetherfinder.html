<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple Weather App</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter font -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background: #0d1117;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center">

    <div class="max-w-md w-full p-6 rounded-xl shadow-lg bg-gray-900 text-white">
        <h1 class="text-3xl font-bold mb-6 text-center">
            <span class="text-green-200">Weather A.B </span> Dashboard
        </h1>

        <div class="flex gap-2 mb-4">
            <input id="location" placeholder="Enter city" class="flex-1 p-2 rounded-md text-black" />
            <button id="search" class="bg-green-400 hover:bg-green-600 text-black py-2 px-5 rounded-md font-bold">Search</button>
        </div>

        <div id="msg" class="text-sm text-gray-400 text-center mb-2">
            Enter a city and press search.
        </div>

        <div id="result" class="hidden mt-5 bg-gray-800 rounded-md p-4">
            <div class="flex justify-between mb-2">
                <div>
                    <span id="city" class="text-xl font-bold"></span>
                    <span id="country" class="ml-2 text-gray-400"></span>
                </div>
                <span id="time" class="text-xs text-gray-400"></span>
            </div>
            <div class="flex items-center mb-4">
                <img id="icon" src="" alt="Weather Icon" class="w-12 h-12 mr-2" />
                <div>
                    <span id="temp" class="text-3xl mr-2"></span>
                    <span id="cond" class="text-lg text-gray-300"></span>
                </div>
            </div>
            <div>
                <div>Feels like: <span id="feels" class="font-bold"></span></div>
                <div>Humidity: <span id="humidity"></span></div>
                <div>Wind: <span id="wind"></span></div>
                <div>UV Index: <span id="uv"></span></div>
            </div>
            <div class="text-xs text-gray-400 mt-4">
                Data: weatherapi.com
            </div>
        </div>
    </div>

    <script>
    // Set your Weather API key
    const API_KEY = '690981bbdfaf484b890172417253009';

    // DOM references
    const locationInput = document.getElementById('location');
    const searchButton = document.getElementById('search');
    const msgDiv = document.getElementById('msg');
    const resultDiv = document.getElementById('result');

    // Weather data fields
    const citySpan = document.getElementById('city');
    const countrySpan = document.getElementById('country');
    const timeSpan = document.getElementById('time');
    const iconImg = document.getElementById('icon');
    const tempSpan = document.getElementById('temp');
    const condSpan = document.getElementById('cond');
    const feelsSpan = document.getElementById('feels');
    const humiditySpan = document.getElementById('humidity');
    const windSpan = document.getElementById('wind');
    const uvSpan = document.getElementById('uv');

    // Main fetch function
    function loadWeather(city) {
        msgDiv.textContent = 'Loading weather...';
        resultDiv.classList.add('hidden');
        // Call WeatherAPI with city
        fetch(`http://api.weatherapi.com/v1/current.json?key=${API_KEY}&q=${city}&aqi=yes`)
            .then(response => response.json())
            .then(data => {
                if (data.error) { // handle error case
                    msgDiv.textContent = 'City not found. Try again.';
                    resultDiv.classList.add('hidden');
                    return;
                }
                // Fill fields
                citySpan.textContent = data.location.name;
                countrySpan.textContent = data.location.country;
                timeSpan.textContent = data.location.localtime;
                iconImg.src = "http:" + data.current.condition.icon;
                iconImg.alt = data.current.condition.text;
                tempSpan.textContent = `${Math.round(data.current.temp_c)}°C`;
                condSpan.textContent = data.current.condition.text;
                feelsSpan.textContent = `${Math.round(data.current.feelslike_c)}°C`;
                humiditySpan.textContent = `${data.current.humidity}%`;
                windSpan.textContent = `${data.current.wind_kph} kph (${data.current.wind_dir})`;
                uvSpan.textContent = data.current.uv;
                msgDiv.textContent = 'Weather loaded.';
                resultDiv.classList.remove('hidden');
            })
            .catch(() => {
                msgDiv.textContent = 'Request error. Please try later!';
            });
    }

    // Event listeners
    searchButton.onclick = function() {
        const city = locationInput.value.trim();
        if (!city) {
            msgDiv.textContent = "Type a city name!";
            resultDiv.classList.add('hidden');
            return;
        }
        loadWeather(city);
    };
    // Enable "Enter" key for search
    locationInput.onkeypress = function(e) {
        if (e.key === "Enter") searchButton.click();
    };
    // Load Tokyo by default
    window.onload = function() {
        loadWeather('Tokyo');
    };
    </script>

</body>
</html>
